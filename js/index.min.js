jQuery(document).ready(function(e){function t(t){e.get("pages/"+t+".html").done(function(n){C.set("dataout",n),"contact"==t&&e(".floating-labels").length>0&&c(),f(),e('input[type="submit"]').click(function(e){m(),1!=v()&&e.preventDefault()})})}function n(e){window.location.hash="#"+e}function i(){var n=window.location.hash.substring(1);""!=n?t(n):l(),e('[data-type="modal-trigger"]').each(function(){""==n||e(this).attr("name")!=n||e(this).hasClass("to-circle")||o(e(this))})}function o(e){var t=a(e.next(".cd-modal-bg"));e.addClass("to-circle"),e.next(".cd-modal-bg").addClass("is-visible").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){d(e.next(".cd-modal-bg"),t,!0)}),e.parents(".no-csstransitions").length>0&&d(e.next(".cd-modal-bg"),t,!0)}function a(t){var n=t.width()/4,i=t.offset().left+n,o=t.offset().top+n-e(window).scrollTop(),a=s(o,i,n,e(window).height(),e(window).width());return t.css("position","fixed").velocity({top:o-n,left:i-n,translateX:0},0),a}function s(e,t,n,i,o){var a=t>i/2?t:i-t,s=e>o/2?e:o-e;return Math.ceil(Math.sqrt(Math.pow(a,2)+Math.pow(s,2))/n)}function d(t,n,i){t.velocity({scale:n},400,function(){e("body").toggleClass("overflow-hidden",i),i?t.parents(".cd-section").addClass("modal-is-visible").end().off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"):t.removeClass("is-visible").removeAttr("style").siblings('[data-type="modal-trigger"]').removeClass("to-circle")})}function r(){var t=e(".cd-section.modal-is-visible").find(".cd-modal-bg"),n=t.width()/2,i=t.siblings(".box").offset().top+n-e(window).scrollTop(),o=t.siblings(".box").offset().left+n,a=s(i,o,n,e(window).height(),e(window).width());t.velocity({top:i-n,left:o-n,scale:a},0)}function l(){var t=e(".cd-section.modal-is-visible");t.removeClass("modal-is-visible").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){d(t.find(".cd-modal-bg"),1,!1)}),t.parents(".no-csstransitions").length>0&&d(t.find(".cd-modal-bg"),1,!1)}function c(){e(".floating-labels .cd-label").next().each(function(){h(e(this)),e(this).on("change keyup",function(){h(e(this))})})}function h(e){""==e.val()?e.prev(".cd-label").removeClass("float"):e.prev(".cd-label").addClass("float")}function u(t,n,i){n.match(i)&&0!=n.length&&""!=n?e(t).removeClass("error"):e(t).addClass("error")}function f(){e(".required").each(function(){e(this).on("keyup keypress blur change",function(){const t=/^[a-zA-Z]+$/,n=/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/;var i,o=e(this).val(),a="#"+e(this).attr("id");"cd-name"==e(this).attr("id")&&(i=t),"cd-email"==e(this).attr("id")&&(i=n),u(a,o,i)})})}function v(){if(e(".cd-form").find("input, textarea").hasClass("error")){var t=e(".error").attr("id"),n=e(".error-message");return"cd-name"==t&&n.html("<p>Please enter your NAME (only letters).</p>"),"cd-email"==t&&n.html("<p>Please enter a valid EMAIL address.</p>"),"cd-textarea"==t&&n.html("<p>Write me a message.</p>"),n.removeClass("hide"),!1}return!0}function m(){e(".required").each(function(){var t="#"+e(this).attr("id");0==e(this).val()&&e(t).addClass("error")})}Ractive.DEBUG=!1,window.onhashchange=i,window.onload=i;const w=e(".box-1"),b=e(".box-2"),g=e(".box-3"),p=e(".box-4");w.addClass("hover").delay(300).queue(function(t){e(this).removeClass("hover"),t(),b.addClass("hover").delay(300).queue(function(t){e(this).removeClass("hover"),t(),g.addClass("hover").delay(300).queue(function(t){e(this).removeClass("hover"),t(),p.addClass("hover").delay(300).queue(function(t){e(this).removeClass("hover"),t(),g.addClass("hover").delay(300).queue(function(t){e(this).removeClass("hover"),t(),b.addClass("hover").delay(300).queue(function(t){e(this).removeClass("hover"),t(),w.addClass("hover").delay(300).queue(function(t){e(this).removeClass("hover"),t()})})})})})})});var C=new Ractive({el:".cd-modal-content",template:"#template",debug:!1});e('[data-type="modal-trigger"]').on("click",function(){n(e(this).attr("name")),o(e(this))}),e(document).keyup(function(e){"27"==e.which&&l()}),e(window).on("resize",function(){e(".cd-section.modal-is-visible").length>0&&window.requestAnimationFrame(r)})});